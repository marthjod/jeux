{% extends "admin-base" %}

{% block title %}
Round-switch rules
{% endblock %}

{% block content %}

<div>
    <h3>
        Round-switch rules
    </h3>
    {% if rules is not empty %}
    <table class="table table-hover table-bordered table-condensed">
        <tr>
            <th>Source group</th>
            <th>Destination group</th>
            <th>Ranks</th>
            <th>&Sigma;</th>
            <th></th>
        </tr>
        {% for rule in rules  %}
        <tr>
            <td>{{ rule.srcGroupName }}</td>
            <td>{{ rule.destGroupName }}</td>
            <td>{{ rule.startWithRank }}-{{ rule.additionalPlayers }}</td>
            <td>{{ rule.additionalPlayers + 1 }}</td>
            <td><input type="submit" class="btn btn-danger"
                       value="Delete rule"
                       onclick="deleteRule({{ rule.id }}, '{{ prefix }}');">
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    No rules found.
    {% endif %}
</div>

<div>
    <h3>
        Create rule
    </h3>
    <form id="create-roundswitchrule" action="#" role="form">
        <div class="form-group">
            <label for="rule-source-group">
                Source group
            </label>
            <select id="rule-source-group" class="form-control">
                <option id="no-source-group-selected">
                    No source group selected
                </option>
                {% for group in groups %}
                <option id="rule-source-group-id-{{ group.id }}">
                    {{ group.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="rule-destination-group">
                Destination group
            </label>
            <select id="rule-destination-group" class="form-control">
                <option id="no-destination-group-selected">
                    No destination group selected
                </option>
                {% for group in groups %}
                <option id="rule-destination-group-id-{{ group.id }}">
                    {{ group.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="rule-start-rank">
                Start with rank
            </label>
            <input id="rule-start-rank" type="number" class="form-control" min="1" />
        </div>
        <div class="form-group">
            <label for="rule-additional-players">
                Additional players
            </label>
            <input id="rule-additional-players" type="number" class="form-control" min="0" />
        </div>
        <input id="submit-create-rule" type="submit" class="btn btn-success"
               value="Create round-switch rule"
               onclick="createNewRoundSwitchRule(this, '{{ prefix }}');">
    </form>
    <div id="user-feedback">
    </div>
</div>


{% endblock %}